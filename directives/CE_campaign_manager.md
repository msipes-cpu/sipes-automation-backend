# Smartlead Campaign Manager (Executor)

## Goal
To safely execute the campaign management actions (Add/Remove) queued by the Deliverability Manager. This script is designed to run *after* the daily monitor, processing changes sequentially with strict rate limiting to avoid API errors.

## Input
- **Source**: `.tmp/campaign_actions.json`
- **Generated By**: `smartlead_deliverability_manager.py`

## Core Functions
1.  **Read Queue**: Loads the list of required actions (REMOVE/ADD).
2.  **Execute Safely**: 
    - Removes accounts from campaigns using `DELETE /campaigns/{id}/email-accounts`.
    - Adds accounts to campaigns using `POST /campaigns/{id}/email-accounts`.
    - **Deliberate Delay**: Waits 3 seconds between API calls to prevent 429 Rate Limit errors.
3.  **Reporting**: Sends a summary email confirming exactly which campaigns were updated.

## Execution Flow
1.  Check for `.tmp/campaign_actions.json`. If missing/empty, exit.
2.  Iterate through actions.
3.  Execute API call.
4.  Log success/failure.
5.  Send "Campaign Actions Complete" email.
6.  Archive/Clear the queue file.

## Environment Variables
- `SMARTLEAD_API_KEY`
- `REPORT_RECIPIENT_EMAIL`
